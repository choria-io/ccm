<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Adding a Type :: Choria Configuration Manager</title><link>https://choria-cm.dev/design/new/index.html</link><description>This guide documents the process for adding a new resource type to CCM. It uses the archive type as a reference implementation.
Overview Adding a new resource type requires changes across several packages:
Model definitions - Properties, state, and metadata structs Resource type implementation - Core logic and provider interface Provider implementation - Platform-specific operations Integration points - Factory functions and registry CLI commands - User-facing command line interface JSON schemas - Validation for manifests and API requests Documentation - User and design documentation CCM Studio - Web-based manifest designer File Checklist File Action Purpose model/resource_&lt;type&gt;.go Create Properties, state, metadata structs model/resource_&lt;type&gt;_test.go Create Property validation tests model/resource.go Modify Add case to factory function resources/&lt;type&gt;/&lt;type&gt;.go Create Provider interface definition resources/&lt;type&gt;/type.go Create Resource type implementation resources/&lt;type&gt;/type_test.go Create Resource type tests resources/&lt;type&gt;/provider_mock_test.go Generate Mock provider for tests resources/&lt;type&gt;/&lt;provider&gt;/factory.go Create Provider factory resources/&lt;type&gt;/&lt;provider&gt;/&lt;provider&gt;.go Create Provider implementation resources/&lt;type&gt;/&lt;provider&gt;/&lt;provider&gt;_test.go Create Provider tests resources/resources.go Modify Add case to NewResourceFromProperties cmd/ensure_&lt;type&gt;.go Create CLI command handler cmd/ensure.go Modify Register CLI command internal/fs/schemas/manifest.json Modify Add resource schema definitions internal/fs/schemas/resource_ensure_request.json Modify Add API request schema docs/content/resources/&lt;type&gt;.md Create User documentation docs/content/design/&lt;type&gt;/_index.md Create Design documentation docs/content/design/&lt;type&gt;/&lt;provider&gt;.md Create Provider documentation Step 1: Model Definitions Create model/resource_&lt;type&gt;.go with the following components.</description><generator>Hugo</generator><language>en-us</language><atom:link href="https://choria-cm.dev/design/new/index.xml" rel="self" type="application/rss+xml"/></channel></rss>