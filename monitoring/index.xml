<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Monitoring :: Choria Configuration Manager</title><link>https://choria-io.github.io/ccm/monitoring/index.html</link><description>Resources will check their health in the basic way that resources support - if you say a service should be running, if systemd says it’s running then we assume it’s healthy.
In some cases, though, it makes sense to go deeper than that, for example check the web server is actually serving correct content.
All resources support health checks.
service: name: httpd ensure: running enable: true subscribe: package#zsh health_checks: - tries: 5 try_sleep: 1s command: | /usr/lib64/nagios/plugins/check_http -H localhost:80 --expect "Acme Inc" Here we check that the web server is serving the correct content - the output must include Acme Inc. If at first it is not doing that we will try again every 1 second for five times.</description><generator>Hugo</generator><language>en-us</language><atom:link href="https://choria-io.github.io/ccm/monitoring/index.xml" rel="self" type="application/rss+xml"/></channel></rss>